{"version":3,"sources":["../../../../lib/server/data.ts","../../../../lib/server/validated.ts","../../../../app/app/metodologia/page.tsx"],"sourcesContent":["import { promises as fs } from \"fs\";\nimport path from \"path\";\nimport { readAssetStatusMap } from \"@/lib/server/validated\";\n\r\nfunction repoRoot() {\r\n  return path.resolve(process.cwd(), \"..\");\r\n}\r\n\r\nexport function dataDirs() {\r\n  const root = repoRoot();\r\n  return {\r\n    latest: process.env.DATA_DIR || path.join(root, \"results\", \"latest\"),\r\n    publicLatest: path.join(process.cwd(), \"public\", \"data\", \"latest\"),\r\n    results: path.join(root, \"results\"),\r\n  };\r\n}\r\n\r\nexport async function listLatestFiles() {\r\n  const { latest, publicLatest } = dataDirs();\r\n  let dir = latest;\r\n  try {\r\n    await fs.access(dir);\r\n  } catch {\r\n    dir = publicLatest;\r\n  }\r\n  const files = await fs.readdir(dir);\r\n  return files.filter((f) => f.endsWith(\".json\"));\r\n}\r\n\r\nexport async function readLatestFile(file: string) {\r\n  const { latest, publicLatest } = dataDirs();\r\n  let dir = latest;\r\n  try {\r\n    await fs.access(dir);\r\n  } catch {\r\n    dir = publicLatest;\r\n  }\r\n  const target = path.join(dir, file);\r\n  try {\r\n    const text = await fs.readFile(target, \"utf-8\");\r\n    return JSON.parse(text);\r\n  } catch {\r\n    // fallback: try other dir\r\n    const fallback = dir === latest ? path.join(publicLatest, file) : path.join(latest, file);\r\n    const text = await fs.readFile(fallback, \"utf-8\");\r\n    return JSON.parse(text);\r\n  }\r\n}\r\n\r\nexport async function findLatestApiRecords() {\n  const { results } = dataDirs();\n  // Preferred source: ops snapshots (production-gated payload).\n  const snapshotsRoot = path.join(results, \"ops\", \"snapshots\");\n  try {\n    const runDirs = await fs.readdir(snapshotsRoot, { withFileTypes: true });\n    const snapCandidates: { path: string; mtime: number }[] = [];\n    for (const ent of runDirs) {\n      if (!ent.isDirectory()) continue;\n      const p = path.join(snapshotsRoot, ent.name, \"api_snapshot.jsonl\");\n      try {\n        const stat = await fs.stat(p);\n        snapCandidates.push({ path: p, mtime: stat.mtimeMs });\n      } catch {\n        // ignore\n      }\n    }\n    snapCandidates.sort((a, b) => b.mtime - a.mtime);\n    if (snapCandidates.length) return snapCandidates[0].path;\n  } catch {\n    // ignore and fallback to legacy search\n  }\n\n  // Legacy fallback: results/*/api_records.jsonl\n  const entries = await fs.readdir(results, { withFileTypes: true });\n  const candidates: { path: string; mtime: number }[] = [];\n  for (const ent of entries) {\n    if (!ent.isDirectory()) continue;\r\n    const p = path.join(results, ent.name, \"api_records.jsonl\");\r\n    try {\r\n      const stat = await fs.stat(p);\r\n      candidates.push({ path: p, mtime: stat.mtimeMs });\r\n    } catch {\r\n      // ignore\r\n    }\r\n  }\r\n  candidates.sort((a, b) => b.mtime - a.mtime);\r\n  return candidates.length ? candidates[0].path : null;\r\n}\r\n\r\nexport async function readJsonl(pathFile: string) {\n  const text = await fs.readFile(pathFile, \"utf-8\");\n  return text\n    .split(\"\\n\")\r\n    .map((line) => line.trim())\r\n    .filter(Boolean)\r\n    .map((line) => JSON.parse(line));\n}\n\nfunction repairMojibake(value: string) {\n  return value\n    .replace(/Ã§/g, \"ç\")\n    .replace(/Ã£/g, \"ã\")\n    .replace(/Ã¡/g, \"á\")\n    .replace(/Ã©/g, \"é\")\n    .replace(/Ãª/g, \"ê\")\n    .replace(/Ã­/g, \"í\")\n    .replace(/Ã³/g, \"ó\")\n    .replace(/Ã´/g, \"ô\")\n    .replace(/Ãº/g, \"ú\")\n    .replace(/Ã‰/g, \"É\")\n    .replace(/Ã“/g, \"Ó\")\n    .replace(/Ã/g, \"à\")\n    .replace(/Â/g, \"\");\n}\n\nfunction sanitizeEncoding<T>(input: T): T {\n  if (typeof input === \"string\") {\n    return repairMojibake(input) as T;\n  }\n  if (Array.isArray(input)) {\n    return input.map((item) => sanitizeEncoding(item)) as T;\n  }\n  if (input && typeof input === \"object\") {\n    const out: Record<string, unknown> = {};\n    for (const [k, v] of Object.entries(input as Record<string, unknown>)) {\n      out[k] = sanitizeEncoding(v);\n    }\n    return out as T;\n  }\n  return input;\n}\n\nexport type LatestRunInfo = {\n  runId: string;\n  snapshotPath: string;\n  summaryPath: string;\n  summary: Record<string, unknown>;\n};\n\nfunction isRunValid(summary: Record<string, unknown>) {\n  const status = String(summary?.status || \"\").toLowerCase();\n  const gate = (summary?.deployment_gate || {}) as Record<string, unknown>;\n  const blocked = gate?.blocked === true;\n  return status === \"ok\" && !blocked;\n}\n\nexport async function findLatestValidRun(): Promise<LatestRunInfo | null> {\n  const { results } = dataDirs();\n  const snapshotsRoot = path.join(results, \"ops\", \"snapshots\");\n  let runDirs: string[] = [];\n  try {\n    runDirs = (await fs.readdir(snapshotsRoot, { withFileTypes: true }))\n      .filter((ent) => ent.isDirectory())\n      .map((ent) => ent.name)\n      .sort()\n      .reverse();\n  } catch {\n    return null;\n  }\n\n  for (const runId of runDirs) {\n    const summaryPath = path.join(snapshotsRoot, runId, \"summary.json\");\n    const snapshotPath = path.join(snapshotsRoot, runId, \"api_snapshot.jsonl\");\n    try {\n      const [summaryText, snapshotStat] = await Promise.all([fs.readFile(summaryPath, \"utf-8\"), fs.stat(snapshotPath)]);\n      if (!snapshotStat.size) continue;\n      const summary = JSON.parse(summaryText) as Record<string, unknown>;\n      if (!isRunValid(summary)) continue;\n      return { runId, summaryPath, snapshotPath, summary };\n    } catch {\n      // ignore invalid run and keep scanning older runs\n    }\n  }\n  return null;\n}\n\nexport async function readLatestSnapshot() {\n  const run = await findLatestValidRun();\n  if (!run) return null;\n  const records = await readJsonl(run.snapshotPath);\n  return {\n    runId: run.runId,\n    summary: sanitizeEncoding(run.summary),\n    records: sanitizeEncoding(records),\n  };\n}\n\nexport async function readRiskTruthPanel() {\n  const { results } = dataDirs();\n  const target = path.join(results, \"validation\", \"risk_truth_panel.json\");\n  try {\n    const text = await fs.readFile(target, \"utf-8\");\n    return sanitizeEncoding(JSON.parse(text));\n  } catch {\n    return {\n      status: \"empty\",\n      counts: { assets: 0, validated: 0, watch: 0, inconclusive: 0 },\n      entries: [],\n    };\n  }\n}\n\nexport async function readGlobalVerdict() {\n  const { results } = dataDirs();\n  const target = path.join(results, \"validation\", \"VERDICT.json\");\n  try {\n    const text = await fs.readFile(target, \"utf-8\");\n    return sanitizeEncoding(JSON.parse(text));\n  } catch {\n    return { status: \"unknown\", gate_checks: {} };\n  }\n}\n\nexport async function readJsonlWithValidationGate(pathFile: string) {\n  const records = await readJsonl(pathFile);\n  let statusMap: Record<string, Record<string, string>> = {};\n  try {\n    statusMap = await readAssetStatusMap();\n  } catch {\n    return records;\n  }\n  return records.map((record) => {\n    const key = `${record.asset || \"\"}__${record.timeframe || \"\"}`;\n    const gate = statusMap[key];\n    if (!gate || (gate.status || \"\").toLowerCase() === \"validated\") {\n      return record;\n    }\n    const reason = gate.reason || \"gate_not_validated\";\n    const warnings = Array.isArray(record.warnings) ? [...record.warnings] : [];\n    if (!warnings.includes(\"INCONCLUSIVE_SIGNAL\")) {\n      warnings.push(\"INCONCLUSIVE_SIGNAL\");\n    }\n    return {\n      ...record,\n      signal_status: \"inconclusive\",\n      use_forecast_bool: false,\n      action: \"DIAGNOSTICO_INCONCLUSIVO\",\n      regime_label: \"INCONCLUSIVE\",\n      confidence_level: \"LOW\",\n      warnings,\n      gate_reason: reason,\n    };\n  });\n}\n\r\nexport async function readDashboardOverview() {\r\n  const { results } = dataDirs();\r\n  const overviewPath = path.join(results, \"dashboard\", \"overview.json\");\r\n  const text = await fs.readFile(overviewPath, \"utf-8\");\r\n  return JSON.parse(text);\r\n}\r\n","import { promises as fs } from \"fs\";\nimport path from \"path\";\n\nfunction repoRoot() {\n  return path.resolve(process.cwd(), \"..\");\n}\n\nexport function validatedRoot() {\n  return process.env.VALIDATED_DIR || path.join(repoRoot(), \"results\", \"validated\", \"latest\");\n}\n\nexport async function readValidatedUniverse(tf: string) {\n  const file = path.join(validatedRoot(), `universe_${tf}.json`);\n  const text = await fs.readFile(file, \"utf-8\");\n  return JSON.parse(text);\n}\n\nexport async function readAssetStatusMap() {\n  const file = path.join(validatedRoot(), \"asset_status.csv\");\n  const text = await fs.readFile(file, \"utf-8\");\n  const lines = text.trim().split(\"\\n\");\n  const header = (lines.shift() || \"\").split(\",\").map((h) => h.trim());\n  const out: Record<string, Record<string, string>> = {};\n  for (const line of lines) {\n    const parts = line.split(\",\");\n    const row: Record<string, string> = {};\n    header.forEach((h, i) => {\n      row[h] = (parts[i] || \"\").trim();\n    });\n    const key = `${row.asset}__${row.timeframe}`;\n    out[key] = row;\n  }\n  return out;\n}\n","import { readGlobalVerdict, readLatestSnapshot, readRiskTruthPanel } from \"@/lib/server/data\";\n\nfunction toNum(v: unknown, fallback = 0) {\n  const n = Number(v);\n  return Number.isFinite(n) ? n : fallback;\n}\n\nexport default async function MetodologiaPage() {\n  const [snap, verdict, panel] = await Promise.all([\n    readLatestSnapshot(),\n    readGlobalVerdict(),\n    readRiskTruthPanel(),\n  ]);\n\n  const summary = (snap?.summary || {}) as Record<string, unknown>;\n  const checks = (verdict?.gate_checks || {}) as Record<string, unknown>;\n  const scores = (verdict?.scores || {}) as Record<string, unknown>;\n  const counts = (panel?.counts || {}) as Record<string, unknown>;\n  const entries = Array.isArray(panel?.entries) ? (panel?.entries as Record<string, unknown>[]) : [];\n  const sample = entries.slice(0, 5);\n\n  return (\n    <div className=\"p-5 md:p-6 lg:p-8 space-y-6\">\n      <section className=\"rounded-2xl border border-zinc-800 bg-zinc-950/50 p-5\">\n        <p className=\"text-xs tracking-[0.14em] uppercase text-zinc-500\">Nivel 2 - Metodo e auditoria</p>\n        <h1 className=\"mt-2 text-2xl md:text-3xl font-semibold text-zinc-100\">Metodologia e evidencias do run atual</h1>\n        <p className=\"mt-3 text-sm text-zinc-300\">\n          Todos os numeros abaixo sao carregados de artefatos reais do repositorio: snapshot validado, painel de verdade de risco e gate global.\n        </p>\n      </section>\n\n      <section className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3\">\n        <Metric title=\"Global verdict\" value={String(verdict?.status || \"unknown\").toUpperCase()} />\n        <Metric title=\"Run id\" value={String(snap?.runId || \"n/a\")} />\n        <Metric title=\"Ativos no painel\" value={String(toNum(counts.assets, 0))} />\n        <Metric title=\"Validated\" value={String(toNum(counts.validated, 0))} />\n      </section>\n\n      <section className=\"rounded-2xl border border-zinc-800 bg-zinc-950/45 p-5\">\n        <h2 className=\"text-lg font-semibold text-zinc-100\">Gate checks</h2>\n        <div className=\"mt-3 grid grid-cols-1 md:grid-cols-2 gap-2 text-sm\">\n          {Object.keys(checks).length ? (\n            Object.entries(checks).map(([k, v]) => (\n              <div key={k} className=\"rounded-lg border border-zinc-800 bg-black/25 p-2 text-zinc-300\">\n                <span className=\"text-zinc-400\">{k}:</span> {String(v)}\n              </div>\n            ))\n          ) : (\n            <div className=\"text-zinc-400\">Sem gate_checks no arquivo de veredito.</div>\n          )}\n        </div>\n      </section>\n\n      <section className=\"rounded-2xl border border-zinc-800 bg-zinc-950/45 p-5\">\n        <h2 className=\"text-lg font-semibold text-zinc-100\">Scores e contorno</h2>\n        <div className=\"mt-3 grid grid-cols-1 md:grid-cols-3 gap-2 text-sm\">\n          {Object.keys(scores).length ? (\n            Object.entries(scores).map(([k, v]) => (\n              <div key={k} className=\"rounded-lg border border-zinc-800 bg-black/25 p-2 text-zinc-300\">\n                <span className=\"text-zinc-400\">{k}:</span> {String(v)}\n              </div>\n            ))\n          ) : (\n            <div className=\"text-zinc-400\">Sem scores no arquivo de veredito.</div>\n          )}\n          <div className=\"rounded-lg border border-zinc-800 bg-black/25 p-2 text-zinc-300\">\n            <span className=\"text-zinc-400\">deployment_gate.blocked:</span>{\" \"}\n            {String(((summary.deployment_gate as Record<string, unknown> | undefined)?.blocked ?? \"n/a\"))}\n          </div>\n          <div className=\"rounded-lg border border-zinc-800 bg-black/25 p-2 text-zinc-300\">\n            <span className=\"text-zinc-400\">status:</span> {String(summary.status || \"n/a\")}\n          </div>\n          <div className=\"rounded-lg border border-zinc-800 bg-black/25 p-2 text-zinc-300\">\n            <span className=\"text-zinc-400\">adaptive_thresholds_available:</span>{\" \"}\n            {String((panel as Record<string, unknown>)?.adaptive_thresholds_available ?? \"n/a\")}\n          </div>\n          <div className=\"rounded-lg border border-zinc-800 bg-black/25 p-2 text-zinc-300\">\n            <span className=\"text-zinc-400\">data_adequacy_available:</span>{\" \"}\n            {String((panel as Record<string, unknown>)?.data_adequacy_available ?? \"n/a\")}\n          </div>\n        </div>\n      </section>\n\n      <section className=\"rounded-2xl border border-zinc-800 bg-zinc-950/45 p-5\">\n        <h2 className=\"text-lg font-semibold text-zinc-100\">Amostra de auditoria por ativo</h2>\n        <div className=\"mt-3 overflow-auto\">\n          <table className=\"w-full text-xs\">\n            <thead className=\"text-zinc-500 uppercase\">\n              <tr>\n                <th className=\"text-left py-2\">Ativo</th>\n                <th className=\"text-left py-2\">Status</th>\n                <th className=\"text-left py-2\">Gate reason</th>\n                <th className=\"text-left py-2\">Thr conf/qual/trans</th>\n                <th className=\"text-left py-2\">Adequacy</th>\n                <th className=\"text-left py-2\">Pseudo bifurcation</th>\n              </tr>\n            </thead>\n            <tbody>\n              {sample.map((e, idx) => {\n                const gates = (e.gates || {}) as Record<string, unknown>;\n                const thr = (gates.thresholds || {}) as Record<string, unknown>;\n                const adq = (gates.data_adequacy || {}) as Record<string, unknown>;\n                const macro = (e.macro || {}) as Record<string, unknown>;\n                return (\n                  <tr key={`${e.asset_id || \"asset\"}-${idx}`} className=\"border-t border-zinc-800/70 text-zinc-300\">\n                    <td className=\"py-2\">{String(e.asset_id || \"--\")}</td>\n                    <td className=\"py-2\">{String(e.risk_truth_status || \"--\")}</td>\n                    <td className=\"py-2\">{String(gates.status_reason || \"--\")}</td>\n                    <td className=\"py-2\">\n                      {`${toNum(thr.thr_conf).toFixed(2)} / ${toNum(thr.thr_quality).toFixed(2)} / ${toNum(thr.thr_transition).toFixed(2)}`}\n                    </td>\n                    <td className=\"py-2\">{String(adq.status || \"--\")} ({String(adq.n_points || \"--\")} pts)</td>\n                    <td className=\"py-2\">{String(Boolean(macro.pseudo_bifurcation_flag))}</td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n          {!sample.length ? <div className=\"text-zinc-500 mt-2\">Sem entries no risk_truth_panel.</div> : null}\n        </div>\n      </section>\n\n      <section className=\"rounded-2xl border border-zinc-800 bg-zinc-950/45 p-5\">\n        <h2 className=\"text-lg font-semibold text-zinc-100\">Caveats de uso</h2>\n        <ul className=\"mt-3 space-y-2 text-sm text-zinc-300\">\n          <li>1. O motor é radar de regime e risco, não previsão garantida de preço.</li>\n          <li>2. Sinal inconclusivo deve ficar em modo diagnóstico, sem ação automática.</li>\n          <li>3. Backtest e replay não garantem resultado futuro.</li>\n          <li>4. Custos de transação e latência podem degradar desempenho operacional.</li>\n          <li>5. Decisao final exige contexto de dominio e governanca de risco.</li>\n        </ul>\n      </section>\n    </div>\n  );\n}\n\nfunction Metric({ title, value }: { title: string; value: string }) {\n  return (\n    <div className=\"rounded-xl border border-zinc-800 bg-zinc-950/55 p-3\">\n      <div className=\"text-xs uppercase tracking-[0.12em] text-zinc-500\">{title}</div>\n      <div className=\"mt-2 text-lg font-semibold text-zinc-100\">{value}</div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}