{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Pedro%20Henrique/Desktop/A-firma/website-ui/components/BrMap.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport { ComposableMap, Geographies, Geography } from \"react-simple-maps\";\n\ntype BrMapProps = {\n  selectedUF: string;\n  onSelectUF: (uf: string) => void;\n};\n\ntype HoverState = {\n  name: string;\n  sigla: string;\n} | null;\n\ntype GeoFeatureProps = {\n  name?: string;\n  sigla?: string;\n  UF?: string;\n  uf?: string;\n  NAME_1?: string;\n};\n\nconst NAME_TO_UF: Record<string, string> = {\n  acre: \"AC\",\n  alagoas: \"AL\",\n  amapa: \"AP\",\n  amazonas: \"AM\",\n  bahia: \"BA\",\n  ceara: \"CE\",\n  \"distrito federal\": \"DF\",\n  \"espirito santo\": \"ES\",\n  goias: \"GO\",\n  maranhao: \"MA\",\n  \"mato grosso\": \"MT\",\n  \"mato grosso do sul\": \"MS\",\n  \"minas gerais\": \"MG\",\n  para: \"PA\",\n  paraiba: \"PB\",\n  parana: \"PR\",\n  pernambuco: \"PE\",\n  piaui: \"PI\",\n  \"rio de janeiro\": \"RJ\",\n  \"rio grande do norte\": \"RN\",\n  \"rio grande do sul\": \"RS\",\n  rondonia: \"RO\",\n  roraima: \"RR\",\n  \"santa catarina\": \"SC\",\n  \"sao paulo\": \"SP\",\n  sergipe: \"SE\",\n  tocantins: \"TO\",\n};\n\nfunction normalizeText(value: string) {\n  return value\n    .normalize(\"NFD\")\n    .replace(/[\\u0300-\\u036f]/g, \"\")\n    .toLowerCase()\n    .trim();\n}\n\nfunction resolveUF(props: GeoFeatureProps): string {\n  if (props.sigla) return props.sigla.toUpperCase();\n  if (props.UF) return props.UF.toUpperCase();\n  if (props.uf) return props.uf.toUpperCase();\n  const name = props.name || props.NAME_1 || \"\";\n  return NAME_TO_UF[normalizeText(name)] || \"\";\n}\n\nfunction resolveName(props: GeoFeatureProps): string {\n  return props.name || props.NAME_1 || \"Estado\";\n}\n\nexport default function BrMap({ selectedUF, onSelectUF }: BrMapProps) {\n  const [geoData, setGeoData] = useState<Record<string, unknown> | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [hover, setHover] = useState<HoverState>(null);\n  const [reloadKey, setReloadKey] = useState(0);\n\n  useEffect(() => {\n    let mounted = true;\n\n    fetch(`/geo/br-states.geojson?v=${reloadKey}`)\n      .then((r) => {\n        if (!r.ok) {\n          throw new Error(`HTTP ${r.status}`);\n        }\n        return r.json();\n      })\n      .then((json) => {\n        if (!mounted) return;\n        setGeoData(json);\n      })\n      .catch(() => {\n        if (!mounted) return;\n        setGeoData(null);\n        setError(\"Falha ao carregar mapa (GeoJSON)\");\n      })\n      .finally(() => {\n        if (!mounted) return;\n        setLoading(false);\n      });\n\n    return () => {\n      mounted = false;\n    };\n  }, [reloadKey]);\n\n  const mapBlock = useMemo(() => {\n    if (loading) {\n      return <div className=\"h-full w-full animate-pulse rounded-lg bg-zinc-900/70\" />;\n    }\n    if (error || !geoData) {\n      return (\n        <div className=\"flex h-full w-full flex-col items-center justify-center gap-3 rounded-lg border border-zinc-800 bg-zinc-950/70 px-4 text-sm text-zinc-400\">\n          <div>{error || \"Falha ao carregar mapa (GeoJSON)\"}</div>\n          <button\n            className=\"rounded-md border border-zinc-700 px-3 py-1.5 text-xs text-zinc-200 hover:border-zinc-500\"\n            onClick={() => {\n              setLoading(true);\n              setError(null);\n              setGeoData(null);\n              setReloadKey((k) => k + 1);\n            }}\n          >\n            Recarregar mapa\n          </button>\n        </div>\n      );\n    }\n\n    return (\n      <ComposableMap\n        projection=\"geoMercator\"\n        projectionConfig={{ scale: 680, center: [-52, -15] }}\n        style={{ width: \"100%\", height: \"100%\" }}\n      >\n        <Geographies geography={geoData}>\n          {({ geographies }: { geographies: Array<{ rsmKey: string; properties: unknown }> }) =>\n            geographies.map((geo) => {\n              const props = (geo.properties ?? {}) as GeoFeatureProps;\n              const uf = resolveUF(props);\n              const name = resolveName(props);\n              const isSelected = uf === selectedUF;\n              return (\n                <Geography\n                  key={geo.rsmKey}\n                  geography={geo}\n                  onMouseEnter={() => setHover({ name, sigla: uf || \"--\" })}\n                  onMouseLeave={() => setHover(null)}\n                  onClick={() => {\n                    if (uf) onSelectUF(uf);\n                  }}\n                  style={{\n                    default: {\n                      fill: isSelected ? \"rgba(251,146,60,0.35)\" : \"rgba(255,255,255,0.06)\",\n                      stroke: isSelected ? \"rgba(251,146,60,0.85)\" : \"rgba(255,255,255,0.16)\",\n                      strokeWidth: isSelected ? 1.2 : 0.8,\n                      outline: \"none\",\n                    },\n                    hover: {\n                      fill: \"rgba(168,85,247,0.24)\",\n                      stroke: \"rgba(255,255,255,0.28)\",\n                      strokeWidth: 1.1,\n                      outline: \"none\",\n                      cursor: \"pointer\",\n                    },\n                    pressed: {\n                      fill: \"rgba(251,146,60,0.4)\",\n                      stroke: \"rgba(251,146,60,1)\",\n                      strokeWidth: 1.25,\n                      outline: \"none\",\n                    },\n                  }}\n                />\n              );\n            })\n          }\n        </Geographies>\n      </ComposableMap>\n    );\n  }, [loading, error, geoData, selectedUF, onSelectUF]);\n\n  return (\n    <div className=\"relative h-[420px] lg:h-[520px] w-full rounded-lg border border-zinc-800 bg-zinc-950/70 p-2\">\n      {mapBlock}\n      {hover ? (\n        <div className=\"pointer-events-none absolute right-3 top-3 rounded-md border border-zinc-700 bg-black/80 px-2 py-1 text-xs text-zinc-200\">\n          {hover.name} ({hover.sigla})\n        </div>\n      ) : null}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 268, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Pedro%20Henrique/Desktop/A-firma/website-ui/components/RealEstateDashboard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport BrMap from \"@/components/BrMap\";\n\ntype SeriesPoint = { date: string; value: number | null };\ntype RegimePoint = { date: string; regime: string; confidence: number };\ntype RqaInfo = { rqa?: { det?: number; lam?: number; tt?: number } };\ntype ForecastByRegime = Record<string, { by_regime: Record<string, unknown> }>;\n\ntype CityEntry = {\n  asset: string;\n  state: string;\n  city: string;\n  region: string;\n};\n\nconst palette: Record<string, string> = {\n  STABLE: \"#34d399\",\n  TRANSITION: \"#fbbf24\",\n  UNSTABLE: \"#fb7185\",\n};\n\nconst REGION_ORDER = [\"Norte\", \"Nordeste\", \"Centro-Oeste\", \"Sudeste\", \"Sul\"];\n\nconst REGION_STATES: Record<string, string[]> = {\n  Norte: [\"AC\", \"AP\", \"AM\", \"PA\", \"RO\", \"RR\", \"TO\"],\n  Nordeste: [\"AL\", \"BA\", \"CE\", \"MA\", \"PB\", \"PE\", \"PI\", \"RN\", \"SE\"],\n  \"Centro-Oeste\": [\"DF\", \"GO\", \"MS\", \"MT\"],\n  Sudeste: [\"ES\", \"MG\", \"RJ\", \"SP\"],\n  Sul: [\"PR\", \"RS\", \"SC\"],\n};\n\nconst STATE_TO_REGION: Record<string, string> = Object.fromEntries(\n  Object.entries(REGION_STATES).flatMap(([region, states]) => states.map((uf) => [uf, region]))\n);\n\nconst CITY_MAP: CityEntry[] = [\n  { asset: \"FipeZap_São_Paulo_Total\", state: \"SP\", city: \"Sao Paulo\", region: \"Sudeste\" },\n  { asset: \"FipeZap_Rio_de_Janeiro_Total\", state: \"RJ\", city: \"Rio de Janeiro\", region: \"Sudeste\" },\n  { asset: \"FipeZap_Belo_Horizonte_Total\", state: \"MG\", city: \"Belo Horizonte\", region: \"Sudeste\" },\n  { asset: \"FipeZap_Brasília_Total\", state: \"DF\", city: \"Brasilia\", region: \"Centro-Oeste\" },\n  { asset: \"FipeZap_Porto_Alegre_Total\", state: \"RS\", city: \"Porto Alegre\", region: \"Sul\" },\n];\n\n// TODO: Expand this list with complete city coverage per UF when real-estate feeds are added.\nconst CITY_MOCK_BY_UF: Record<string, string[]> = {\n  SP: [\"Sao Paulo\"],\n  RJ: [\"Rio de Janeiro\"],\n  MG: [\"Belo Horizonte\"],\n  DF: [\"Brasilia\"],\n  RS: [\"Porto Alegre\"],\n};\n\nfunction getCitiesForState(uf: string) {\n  const fromAssets = CITY_MAP.filter((c) => c.state === uf).map((c) => c.city);\n  const fromMock = CITY_MOCK_BY_UF[uf] || [];\n  return Array.from(new Set([...fromAssets, ...fromMock]));\n}\n\nfunction formatPct(v?: number) {\n  if (v == null || Number.isNaN(v)) return \"--\";\n  return `${(v * 100).toFixed(2)}%`;\n}\n\nfunction formatDateLabel(date: string, mode: \"mensal\" | \"anual\" | \"diario\") {\n  if (!date) return \"\";\n  if (mode === \"anual\") return date.slice(0, 4);\n  if (mode === \"mensal\") return date.slice(0, 7);\n  return date;\n}\n\nfunction toTitleRegime(regime?: string) {\n  if (!regime) return \"--\";\n  if (regime === \"STABLE\") return \"Estavel\";\n  if (regime === \"TRANSITION\") return \"Transicao\";\n  if (regime === \"UNSTABLE\") return \"Instavel\";\n  return regime;\n}\n\nexport default function RealEstateDashboard() {\n  const [summary, setSummary] = useState<Record<string, unknown> | null>(null);\n  const [regionFilter, setRegionFilter] = useState(\"Sudeste\");\n  const [stateFilter, setStateFilter] = useState(\"SP\");\n  const [cityFilter, setCityFilter] = useState(\"Sao Paulo\");\n  const [horizonDays, setHorizonDays] = useState<1 | 5 | 10>(5);\n  const [series, setSeries] = useState<SeriesPoint[]>([]);\n  const [regimes, setRegimes] = useState<RegimePoint[]>([]);\n  const [viewMode, setViewMode] = useState<\"mensal\" | \"anual\" | \"diario\">(\"mensal\");\n  const [hoverIndex, setHoverIndex] = useState<number | null>(null);\n\n  const selectedAsset = useMemo(() => {\n    const safeCity = getCitiesForState(stateFilter).includes(cityFilter)\n      ? cityFilter\n      : getCitiesForState(stateFilter)[0] || \"\";\n    const match = CITY_MAP.find((c) => c.state === stateFilter && c.city === safeCity);\n    return match?.asset || CITY_MAP[0].asset;\n  }, [stateFilter, cityFilter]);\n\n  useEffect(() => {\n    const load = async () => {\n      try {\n        const res = await fetch(\"/api/realestate/summary\");\n        if (!res.ok) {\n          setSummary(null);\n          return;\n        }\n        setSummary(await res.json());\n      } catch {\n        setSummary(null);\n      }\n    };\n    load();\n  }, []);\n\n  useEffect(() => {\n    const loadSeries = async () => {\n      try {\n        const res = await fetch(`/api/realestate/series?asset=${encodeURIComponent(selectedAsset)}`);\n        const data = await res.json();\n        setSeries(Array.isArray(data) ? data : []);\n      } catch {\n        setSeries([]);\n      }\n    };\n    loadSeries();\n  }, [selectedAsset]);\n\n  useEffect(() => {\n    const loadRegimes = async () => {\n      try {\n        const base = selectedAsset.toUpperCase().replace(/\\s+/g, \"_\");\n        const res = await fetch(`/api/files/realestate/assets/${base}_monthly_regimes.csv`);\n        if (!res.ok) {\n          setRegimes([]);\n          return;\n        }\n        const text = await res.text();\n        const parsed = text\n          .trim()\n          .split(\"\\n\")\n          .slice(1)\n          .map((line) => {\n            const [date, regime, confidence] = line.split(\",\");\n            return { date, regime, confidence: Number(confidence) };\n          });\n        setRegimes(parsed);\n      } catch {\n        setRegimes([]);\n      }\n    };\n    loadRegimes();\n  }, [selectedAsset]);\n\n  const derivedRegimes = useMemo(() => {\n    if (!series.length) return [] as RegimePoint[];\n    const diffs = series.map((p, i) => {\n      if (i === 0 || p.value == null || series[i - 1].value == null) return 0;\n      return Math.abs(((p.value as number) - (series[i - 1].value as number)) / Math.max(1e-9, series[i - 1].value as number));\n    });\n    const sorted = [...diffs].sort((a, b) => a - b);\n    const q = (k: number) => sorted[Math.floor((sorted.length - 1) * k)] || 0;\n    const q1 = q(0.35);\n    const q2 = q(0.75);\n    return series.map((p, i) => {\n      const v = diffs[i] ?? 0;\n      let regime = \"STABLE\";\n      if (v >= q2) regime = \"UNSTABLE\";\n      else if (v >= q1) regime = \"TRANSITION\";\n      const confidence = Math.max(0.3, Math.min(0.95, regime === \"STABLE\" ? 0.75 : regime === \"TRANSITION\" ? 0.58 : 0.42));\n      return { date: p.date, regime, confidence };\n    });\n  }, [series]);\n\n  const activeRegimes = regimes.length ? regimes : derivedRegimes;\n  const rqaMap = (summary?.rqa ?? {}) as Record<string, RqaInfo>;\n  const forecastMap = (summary?.forecast ?? {}) as Record<string, ForecastByRegime>;\n  const rqa: RqaInfo | null = rqaMap[selectedAsset.toUpperCase()] || null;\n  const forecast: ForecastByRegime | null = forecastMap[selectedAsset.toUpperCase()] || null;\n\n  const displaySeries = useMemo(() => {\n    if (!series.length) return [];\n    if (viewMode === \"diario\") return series;\n    if (viewMode === \"anual\") {\n      const byYear: Record<string, SeriesPoint> = {};\n      for (const p of series) byYear[p.date.slice(0, 4)] = p;\n      return Object.values(byYear);\n    }\n    return series;\n  }, [series, viewMode]);\n\n  const chart = useMemo(() => {\n    if (!displaySeries.length) return null;\n    const width = 1400;\n    const height = 780;\n    const pad = 90;\n    const yVals = displaySeries.map((d) => d.value).filter((v) => v != null) as number[];\n    if (!yVals.length) return null;\n    const ymin = Math.min(...yVals);\n    const ymax = Math.max(...yVals);\n    const scaleX = (i: number, total: number) => pad + (i / Math.max(1, total - 1)) * (width - pad * 2);\n    const scaleY = (v: number) => height - pad - ((v - ymin) / Math.max(1e-6, ymax - ymin)) * (height - pad * 2);\n    return { width, height, pad, scaleX, scaleY, ymin, ymax };\n  }, [displaySeries]);\n\n  const availableStates = REGION_STATES[regionFilter] || [];\n  const citiesForState = useMemo(() => getCitiesForState(stateFilter), [stateFilter]);\n  const cityFilterValue = citiesForState.includes(cityFilter) ? cityFilter : citiesForState[0] || \"\";\n\n  const regimeAt = (idx: number | null) => {\n    if (idx == null || !activeRegimes.length || !displaySeries.length) return null;\n    const mapped = Math.round((idx / Math.max(1, displaySeries.length - 1)) * (activeRegimes.length - 1));\n    return activeRegimes[Math.max(0, Math.min(activeRegimes.length - 1, mapped))] || null;\n  };\n\n  const latestValue = displaySeries.length ? displaySeries[displaySeries.length - 1].value : null;\n  const regimeNow = activeRegimes.length ? activeRegimes[activeRegimes.length - 1] : null;\n  const periodInfo = displaySeries.length\n    ? `${displaySeries[0].date} ate ${displaySeries[displaySeries.length - 1].date}`\n    : \"Sem periodo\";\n\n  const forecastValue = useMemo(() => {\n    if (!latestValue || !Number.isFinite(latestValue)) return null;\n    const baseConfidence = regimeNow?.confidence ?? 0.55;\n    const drift = regimeNow?.regime === \"STABLE\" ? 0.005 : regimeNow?.regime === \"TRANSITION\" ? 0.002 : -0.004;\n    const factor = 1 + drift * horizonDays;\n    return {\n      p50: latestValue * factor,\n      confidence: Math.max(0.3, Math.min(0.95, baseConfidence - (horizonDays - 1) * 0.03)),\n    };\n  }, [latestValue, regimeNow, horizonDays]);\n\n  const onSelectUF = (uf: string) => {\n    const nextRegion = STATE_TO_REGION[uf] || regionFilter;\n    setRegionFilter(nextRegion);\n    setStateFilter(uf);\n  };\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      <header className=\"space-y-3\">\n        <h1 className=\"text-2xl font-semibold\">Setor Imobiliario</h1>\n        <p className=\"text-sm text-zinc-400\">\n          Diagnostico de regimes para precos residenciais com leitura de estabilidade, transicao e\n          instabilidade.\n        </p>\n      </header>\n\n      <div className=\"grid grid-cols-12 gap-6\">\n        <div className=\"col-span-12 lg:col-span-4 space-y-4\">\n          <div className=\"rounded-xl border border-zinc-800 bg-black/40 p-4\">\n            <div className=\"text-xs text-zinc-500 mb-2\">Filtro geografico</div>\n            <div className=\"space-y-3\">\n              <label className=\"text-xs text-zinc-400\">Regiao</label>\n              <select\n                className=\"w-full rounded-lg border border-zinc-700 bg-black/30 px-3 py-2 text-sm\"\n                value={regionFilter}\n                onChange={(e) => {\n                  const reg = e.target.value;\n                  const firstState = REGION_STATES[reg]?.[0] || \"SP\";\n                  setRegionFilter(reg);\n                  setStateFilter(firstState);\n                }}\n              >\n                {REGION_ORDER.map((r) => (\n                  <option key={r} value={r}>\n                    {r}\n                  </option>\n                ))}\n              </select>\n\n              <label className=\"text-xs text-zinc-400\">Estado</label>\n              <select\n                className=\"w-full rounded-lg border border-zinc-700 bg-black/30 px-3 py-2 text-sm\"\n                value={stateFilter}\n                onChange={(e) => setStateFilter(e.target.value)}\n              >\n                {availableStates.map((s) => (\n                  <option key={s} value={s}>\n                    {s}\n                  </option>\n                ))}\n              </select>\n\n              <label className=\"text-xs text-zinc-400\">Cidade</label>\n              <select\n                className=\"w-full rounded-lg border border-zinc-700 bg-black/30 px-3 py-2 text-sm\"\n                value={cityFilterValue}\n                onChange={(e) => setCityFilter(e.target.value)}\n              >\n                {citiesForState.map((c) => (\n                  <option key={c} value={c}>\n                    {c}\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n\n          <div className=\"rounded-xl border border-zinc-800 bg-black/40 p-4\">\n            <div className=\"text-xs text-zinc-500 mb-2\">Mapa politico do Brasil por estados</div>\n            <BrMap selectedUF={stateFilter} onSelectUF={onSelectUF} />\n            <div className=\"mt-2 text-xs text-zinc-400\">\n              Clique no estado para sincronizar o filtro e atualizar a cidade.\n            </div>\n          </div>\n\n          <div className=\"rounded-xl border border-zinc-800 bg-black/40 p-4 grid grid-cols-3 gap-3 text-center\">\n            <div>\n              <div className=\"text-xs text-zinc-500\">DET</div>\n              <div className=\"text-lg font-semibold\">{formatPct(rqa?.rqa?.det)}</div>\n            </div>\n            <div>\n              <div className=\"text-xs text-zinc-500\">LAM</div>\n              <div className=\"text-lg font-semibold\">{formatPct(rqa?.rqa?.lam)}</div>\n            </div>\n            <div>\n              <div className=\"text-xs text-zinc-500\">TT</div>\n              <div className=\"text-lg font-semibold\">{rqa?.rqa?.tt?.toFixed(1) ?? \"--\"}</div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"col-span-12 lg:col-span-8 space-y-4\">\n          <div className=\"rounded-2xl border border-zinc-800 bg-zinc-950/40 p-5\">\n            <div className=\"mb-3 flex flex-wrap items-center justify-between gap-3\">\n              <div className=\"text-xs text-zinc-500\">Preco medio (R$) com bandas de regime</div>\n              <div className=\"flex items-center gap-2 text-xs text-zinc-400\">\n                <label>Visao</label>\n                <select\n                  className=\"rounded-lg border border-zinc-700 bg-black/30 px-2 py-1 text-xs\"\n                  value={viewMode}\n                  onChange={(e) => setViewMode(e.target.value as \"mensal\" | \"anual\" | \"diario\")}\n                >\n                  <option value=\"mensal\">Mensal</option>\n                  <option value=\"anual\">Anual</option>\n                  <option value=\"diario\">Diario</option>\n                </select>\n              </div>\n            </div>\n\n            {chart ? (\n              <div className=\"relative\">\n                <svg\n                  width={chart.width}\n                  height={chart.height}\n                  className=\"w-full\"\n                  onMouseLeave={() => setHoverIndex(null)}\n                  onMouseMove={(e) => {\n                    const rect = (e.currentTarget as SVGSVGElement).getBoundingClientRect();\n                    const x = e.clientX - rect.left;\n                    const idx = Math.round(\n                      ((x - chart.pad) / Math.max(1, rect.width - chart.pad * 2)) * (displaySeries.length - 1)\n                    );\n                    setHoverIndex(idx >= 0 && idx < displaySeries.length ? idx : null);\n                  }}\n                >\n                  <rect x={0} y={0} width={chart.width} height={chart.height} fill=\"transparent\" />\n\n                  {activeRegimes.length > 1 &&\n                    activeRegimes.map((r, i) => {\n                      if (i === activeRegimes.length - 1) return null;\n                      const x0 = chart.scaleX(i, activeRegimes.length);\n                      const x1 = chart.scaleX(i + 1, activeRegimes.length);\n                      return (\n                        <rect\n                          key={`${r.date}-${i}`}\n                          x={x0}\n                          y={chart.pad}\n                          width={x1 - x0}\n                          height={chart.height - chart.pad * 2}\n                          fill={palette[r.regime] || \"#3f3f46\"}\n                          opacity={0.12}\n                        />\n                      );\n                    })}\n\n                  <polyline\n                    fill=\"none\"\n                    stroke=\"#38bdf8\"\n                    strokeWidth={2.2}\n                    points={displaySeries\n                      .map((p, i) => (p.value == null ? null : `${chart.scaleX(i, displaySeries.length)},${chart.scaleY(p.value)}`))\n                      .filter(Boolean)\n                      .join(\" \")}\n                  />\n\n                  {[0, 0.25, 0.5, 0.75, 1].map((p) => {\n                    const y = chart.pad + (1 - p) * (chart.height - chart.pad * 2);\n                    const value = chart.ymin + p * (chart.ymax - chart.ymin);\n                    return (\n                      <g key={`y-${p}`}>\n                        <line x1={chart.pad} y1={y} x2={chart.width - chart.pad} y2={y} stroke=\"#1f2937\" strokeDasharray=\"4 6\" />\n                        <text x={chart.pad - 8} y={y + 4} fill=\"#9ca3af\" fontSize=\"10\" textAnchor=\"end\">\n                          {value.toFixed(0)}\n                        </text>\n                      </g>\n                    );\n                  })}\n\n                  {[0, 0.25, 0.5, 0.75, 1].map((p) => {\n                    const idx = Math.round(p * (displaySeries.length - 1));\n                    const x = chart.scaleX(idx, displaySeries.length);\n                    return (\n                      <text key={`x-${p}`} x={x} y={chart.height - chart.pad + 18} fill=\"#9ca3af\" fontSize=\"10\" textAnchor=\"middle\">\n                        {formatDateLabel(displaySeries[idx]?.date ?? \"\", viewMode)}\n                      </text>\n                    );\n                  })}\n                </svg>\n\n                {hoverIndex != null && displaySeries[hoverIndex] && (\n                  <div className=\"absolute right-6 top-6 rounded-lg border border-zinc-700 bg-black/80 px-3 py-2 text-xs text-zinc-200\">\n                    <div className=\"font-semibold\">{formatDateLabel(displaySeries[hoverIndex].date, viewMode)}</div>\n                    <div>Preco: R$ {displaySeries[hoverIndex].value?.toFixed(0) ?? \"--\"}</div>\n                    {regimeAt(hoverIndex) && (\n                      <div>\n                        Regime: {toTitleRegime(regimeAt(hoverIndex)?.regime)} | Conf. {regimeAt(hoverIndex)?.confidence?.toFixed(2) ?? \"--\"}\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n            ) : (\n              <div className=\"text-sm text-zinc-400\">Sem dados carregados.</div>\n            )}\n          </div>\n\n          <div className=\"grid gap-4 lg:grid-cols-2\">\n            <div className=\"rounded-xl border border-zinc-800 bg-black/40 p-4\">\n              <div className=\"text-xs text-zinc-500 mb-2\">Resumo por ativo</div>\n              <div className=\"grid grid-cols-2 gap-2 text-sm text-zinc-200\">\n                <div className=\"text-zinc-400\">Ativo</div>\n                <div>{selectedAsset}</div>\n                <div className=\"text-zinc-400\">Periodo analisado</div>\n                <div>{periodInfo}</div>\n                <div className=\"text-zinc-400\">Regime atual</div>\n                <div>{toTitleRegime(regimeNow?.regime)}</div>\n                <div className=\"text-zinc-400\">Confianca</div>\n                <div>{regimeNow?.confidence?.toFixed(2) ?? \"--\"}</div>\n              </div>\n            </div>\n\n            <div className=\"rounded-xl border border-zinc-800 bg-black/40 p-4\">\n              <div className=\"mb-2 flex items-center justify-between\">\n                <div className=\"text-xs text-zinc-500\">Forecast e diagnostico</div>\n                <select\n                  className=\"rounded-lg border border-zinc-700 bg-black/30 px-2 py-1 text-xs\"\n                  value={horizonDays}\n                  onChange={(e) => setHorizonDays(Number(e.target.value) as 1 | 5 | 10)}\n                >\n                  <option value={1}>1 dia</option>\n                  <option value={5}>5 dias</option>\n                  <option value={10}>10 dias</option>\n                </select>\n              </div>\n              <div className=\"space-y-1 text-sm text-zinc-200\">\n                <div>Projecao p50 ({horizonDays}d): R$ {forecastValue?.p50?.toFixed(0) ?? \"--\"}</div>\n                <div>Confianca da projecao: {forecastValue?.confidence?.toFixed(2) ?? \"--\"}</div>\n                <div className=\"text-zinc-400\">Use como diagnostico de regime, nao como sinal isolado.</div>\n              </div>\n              <div className=\"mt-3 text-xs text-zinc-400\">\n                {forecast\n                  ? `${Object.keys(forecast).length} horizontes no resumo por regime do motor.`\n                  : \"Resumo de forecast por regime indisponivel (fallback local ativo).\"}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAiBA,MAAM,UAAkC;IACtC,QAAQ;IACR,YAAY;IACZ,UAAU;AACZ;AAEA,MAAM,eAAe;IAAC;IAAS;IAAY;IAAgB;IAAW;CAAM;AAE5E,MAAM,gBAA0C;IAC9C,OAAO;QAAC;QAAM;QAAM;QAAM;QAAM;QAAM;QAAM;KAAK;IACjD,UAAU;QAAC;QAAM;QAAM;QAAM;QAAM;QAAM;QAAM;QAAM;QAAM;KAAK;IAChE,gBAAgB;QAAC;QAAM;QAAM;QAAM;KAAK;IACxC,SAAS;QAAC;QAAM;QAAM;QAAM;KAAK;IACjC,KAAK;QAAC;QAAM;QAAM;KAAK;AACzB;AAEA,MAAM,kBAA0C,OAAO,WAAW,OAChE,OAAO,OAAO,CAAC,eAAe,OAAO,MAAC,CAAC,CAAC,QAAQ,OAAO,GAAK,OAAO,GAAG,CAAC,CAAC,KAAO;YAAC;YAAI;SAAO;;AAG7F,MAAM,WAAwB;IAC5B;QAAE,OAAO;QAA2B,OAAO;QAAM,MAAM;QAAa,QAAQ;IAAU;IACtF;QAAE,OAAO;QAAgC,OAAO;QAAM,MAAM;QAAkB,QAAQ;IAAU;IAChG;QAAE,OAAO;QAAgC,OAAO;QAAM,MAAM;QAAkB,QAAQ;IAAU;IAChG;QAAE,OAAO;QAA0B,OAAO;QAAM,MAAM;QAAY,QAAQ;IAAe;IACzF;QAAE,OAAO;QAA8B,OAAO;QAAM,MAAM;QAAgB,QAAQ;IAAM;CACzF;AAED,8FAA8F;AAC9F,MAAM,kBAA4C;IAChD,IAAI;QAAC;KAAY;IACjB,IAAI;QAAC;KAAiB;IACtB,IAAI;QAAC;KAAiB;IACtB,IAAI;QAAC;KAAW;IAChB,IAAI;QAAC;KAAe;AACtB;AAEA,SAAS,kBAAkB,EAAU;IACnC,MAAM,aAAa,SAAS,MAAM,CAAC,CAAC,IAAM,EAAE,KAAK,KAAK,IAAI,GAAG,CAAC,CAAC,IAAM,EAAE,IAAI;IAC3E,MAAM,WAAW,eAAe,CAAC,GAAG,IAAI,EAAE;IAC1C,OAAO,MAAM,IAAI,CAAC,IAAI,IAAI;WAAI;WAAe;KAAS;AACxD;AAEA,SAAS,UAAU,CAAU;IAC3B,IAAI,KAAK,QAAQ,OAAO,KAAK,CAAC,IAAI,OAAO;IACzC,OAAO,GAAG,CAAC,IAAI,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;AACnC;AAEA,SAAS,gBAAgB,IAAY,EAAE,IAAmC;IACxE,IAAI,CAAC,MAAM,OAAO;IAClB,IAAI,SAAS,SAAS,OAAO,KAAK,KAAK,CAAC,GAAG;IAC3C,IAAI,SAAS,UAAU,OAAO,KAAK,KAAK,CAAC,GAAG;IAC5C,OAAO;AACT;AAEA,SAAS,cAAc,MAAe;IACpC,IAAI,CAAC,QAAQ,OAAO;IACpB,IAAI,WAAW,UAAU,OAAO;IAChC,IAAI,WAAW,cAAc,OAAO;IACpC,IAAI,WAAW,YAAY,OAAO;IAClC,OAAO;AACT;AAEe,SAAS;;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAiC;IACvE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IACjD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAa;IAC3D,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAgB,EAAE;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAgB,EAAE;IACxD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAgC;IACxE,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAgB;IAE5D,MAAM,gBAAgB,IAAA,wKAAO;sDAAC;YAC5B,MAAM,WAAW,kBAAkB,aAAa,QAAQ,CAAC,cACrD,aACA,kBAAkB,YAAY,CAAC,EAAE,IAAI;YACzC,MAAM,QAAQ,SAAS,IAAI;oEAAC,CAAC,IAAM,EAAE,KAAK,KAAK,eAAe,EAAE,IAAI,KAAK;;YACzE,OAAO,OAAO,SAAS,QAAQ,CAAC,EAAE,CAAC,KAAK;QAC1C;qDAAG;QAAC;QAAa;KAAW;IAE5B,IAAA,0KAAS;yCAAC;YACR,MAAM;sDAAO;oBACX,IAAI;wBACF,MAAM,MAAM,MAAM,MAAM;wBACxB,IAAI,CAAC,IAAI,EAAE,EAAE;4BACX,WAAW;4BACX;wBACF;wBACA,WAAW,MAAM,IAAI,IAAI;oBAC3B,EAAE,OAAM;wBACN,WAAW;oBACb;gBACF;;YACA;QACF;wCAAG,EAAE;IAEL,IAAA,0KAAS;yCAAC;YACR,MAAM;4DAAa;oBACjB,IAAI;wBACF,MAAM,MAAM,MAAM,MAAM,CAAC,6BAA6B,EAAE,mBAAmB,gBAAgB;wBAC3F,MAAM,OAAO,MAAM,IAAI,IAAI;wBAC3B,UAAU,MAAM,OAAO,CAAC,QAAQ,OAAO,EAAE;oBAC3C,EAAE,OAAM;wBACN,UAAU,EAAE;oBACd;gBACF;;YACA;QACF;wCAAG;QAAC;KAAc;IAElB,IAAA,0KAAS;yCAAC;YACR,MAAM;6DAAc;oBAClB,IAAI;wBACF,MAAM,OAAO,cAAc,WAAW,GAAG,OAAO,CAAC,QAAQ;wBACzD,MAAM,MAAM,MAAM,MAAM,CAAC,6BAA6B,EAAE,KAAK,oBAAoB,CAAC;wBAClF,IAAI,CAAC,IAAI,EAAE,EAAE;4BACX,WAAW,EAAE;4BACb;wBACF;wBACA,MAAM,OAAO,MAAM,IAAI,IAAI;wBAC3B,MAAM,SAAS,KACZ,IAAI,GACJ,KAAK,CAAC,MACN,KAAK,CAAC,GACN,GAAG;gFAAC,CAAC;gCACJ,MAAM,CAAC,MAAM,QAAQ,WAAW,GAAG,KAAK,KAAK,CAAC;gCAC9C,OAAO;oCAAE;oCAAM;oCAAQ,YAAY,OAAO;gCAAY;4BACxD;;wBACF,WAAW;oBACb,EAAE,OAAM;wBACN,WAAW,EAAE;oBACf;gBACF;;YACA;QACF;wCAAG;QAAC;KAAc;IAElB,MAAM,iBAAiB,IAAA,wKAAO;uDAAC;YAC7B,IAAI,CAAC,OAAO,MAAM,EAAE,OAAO,EAAE;YAC7B,MAAM,QAAQ,OAAO,GAAG;qEAAC,CAAC,GAAG;oBAC3B,IAAI,MAAM,KAAK,EAAE,KAAK,IAAI,QAAQ,MAAM,CAAC,IAAI,EAAE,CAAC,KAAK,IAAI,MAAM,OAAO;oBACtE,OAAO,KAAK,GAAG,CAAC,CAAC,AAAC,EAAE,KAAK,GAAe,MAAM,CAAC,IAAI,EAAE,CAAC,KAAK,AAAW,IAAI,KAAK,GAAG,CAAC,MAAM,MAAM,CAAC,IAAI,EAAE,CAAC,KAAK;gBAC9G;;YACA,MAAM,SAAS;mBAAI;aAAM,CAAC,IAAI;sEAAC,CAAC,GAAG,IAAM,IAAI;;YAC7C,MAAM;iEAAI,CAAC,IAAc,MAAM,CAAC,KAAK,KAAK,CAAC,CAAC,OAAO,MAAM,GAAG,CAAC,IAAI,GAAG,IAAI;;YACxE,MAAM,KAAK,EAAE;YACb,MAAM,KAAK,EAAE;YACb,OAAO,OAAO,GAAG;+DAAC,CAAC,GAAG;oBACpB,MAAM,IAAI,KAAK,CAAC,EAAE,IAAI;oBACtB,IAAI,SAAS;oBACb,IAAI,KAAK,IAAI,SAAS;yBACjB,IAAI,KAAK,IAAI,SAAS;oBAC3B,MAAM,aAAa,KAAK,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,MAAM,WAAW,WAAW,OAAO,WAAW,eAAe,OAAO;oBAC9G,OAAO;wBAAE,MAAM,EAAE,IAAI;wBAAE;wBAAQ;oBAAW;gBAC5C;;QACF;sDAAG;QAAC;KAAO;IAEX,MAAM,gBAAgB,QAAQ,MAAM,GAAG,UAAU;IACjD,MAAM,SAAU,SAAS,OAAO,CAAC;IACjC,MAAM,cAAe,SAAS,YAAY,CAAC;IAC3C,MAAM,MAAsB,MAAM,CAAC,cAAc,WAAW,GAAG,IAAI;IACnE,MAAM,WAAoC,WAAW,CAAC,cAAc,WAAW,GAAG,IAAI;IAEtF,MAAM,gBAAgB,IAAA,wKAAO;sDAAC;YAC5B,IAAI,CAAC,OAAO,MAAM,EAAE,OAAO,EAAE;YAC7B,IAAI,aAAa,UAAU,OAAO;YAClC,IAAI,aAAa,SAAS;gBACxB,MAAM,SAAsC,CAAC;gBAC7C,KAAK,MAAM,KAAK,OAAQ,MAAM,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG;gBACrD,OAAO,OAAO,MAAM,CAAC;YACvB;YACA,OAAO;QACT;qDAAG;QAAC;QAAQ;KAAS;IAErB,MAAM,QAAQ,IAAA,wKAAO;8CAAC;YACpB,IAAI,CAAC,cAAc,MAAM,EAAE,OAAO;YAClC,MAAM,QAAQ;YACd,MAAM,SAAS;YACf,MAAM,MAAM;YACZ,MAAM,QAAQ,cAAc,GAAG;4DAAC,CAAC,IAAM,EAAE,KAAK;2DAAE,MAAM;4DAAC,CAAC,IAAM,KAAK;;YACnE,IAAI,CAAC,MAAM,MAAM,EAAE,OAAO;YAC1B,MAAM,OAAO,KAAK,GAAG,IAAI;YACzB,MAAM,OAAO,KAAK,GAAG,IAAI;YACzB,MAAM;6DAAS,CAAC,GAAW,QAAkB,MAAM,AAAC,IAAI,KAAK,GAAG,CAAC,GAAG,QAAQ,KAAM,CAAC,QAAQ,MAAM,CAAC;;YAClG,MAAM;6DAAS,CAAC,IAAc,SAAS,MAAM,AAAC,CAAC,IAAI,IAAI,IAAI,KAAK,GAAG,CAAC,MAAM,OAAO,QAAS,CAAC,SAAS,MAAM,CAAC;;YAC3G,OAAO;gBAAE;gBAAO;gBAAQ;gBAAK;gBAAQ;gBAAQ;gBAAM;YAAK;QAC1D;6CAAG;QAAC;KAAc;IAElB,MAAM,kBAAkB,aAAa,CAAC,aAAa,IAAI,EAAE;IACzD,MAAM,iBAAiB,IAAA,wKAAO;uDAAC,IAAM,kBAAkB;sDAAc;QAAC;KAAY;IAClF,MAAM,kBAAkB,eAAe,QAAQ,CAAC,cAAc,aAAa,cAAc,CAAC,EAAE,IAAI;IAEhG,MAAM,WAAW,CAAC;QAChB,IAAI,OAAO,QAAQ,CAAC,cAAc,MAAM,IAAI,CAAC,cAAc,MAAM,EAAE,OAAO;QAC1E,MAAM,SAAS,KAAK,KAAK,CAAC,AAAC,MAAM,KAAK,GAAG,CAAC,GAAG,cAAc,MAAM,GAAG,KAAM,CAAC,cAAc,MAAM,GAAG,CAAC;QACnG,OAAO,aAAa,CAAC,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,cAAc,MAAM,GAAG,GAAG,SAAS,IAAI;IACnF;IAEA,MAAM,cAAc,cAAc,MAAM,GAAG,aAAa,CAAC,cAAc,MAAM,GAAG,EAAE,CAAC,KAAK,GAAG;IAC3F,MAAM,YAAY,cAAc,MAAM,GAAG,aAAa,CAAC,cAAc,MAAM,GAAG,EAAE,GAAG;IACnF,MAAM,aAAa,cAAc,MAAM,GACnC,GAAG,aAAa,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE,aAAa,CAAC,cAAc,MAAM,GAAG,EAAE,CAAC,IAAI,EAAE,GAC9E;IAEJ,MAAM,gBAAgB,IAAA,wKAAO;sDAAC;YAC5B,IAAI,CAAC,eAAe,CAAC,OAAO,QAAQ,CAAC,cAAc,OAAO;YAC1D,MAAM,iBAAiB,WAAW,cAAc;YAChD,MAAM,QAAQ,WAAW,WAAW,WAAW,QAAQ,WAAW,WAAW,eAAe,QAAQ,CAAC;YACrG,MAAM,SAAS,IAAI,QAAQ;YAC3B,OAAO;gBACL,KAAK,cAAc;gBACnB,YAAY,KAAK,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,MAAM,iBAAiB,CAAC,cAAc,CAAC,IAAI;YAChF;QACF;qDAAG;QAAC;QAAa;QAAW;KAAY;IAExC,MAAM,aAAa,CAAC;QAClB,MAAM,aAAa,eAAe,CAAC,GAAG,IAAI;QAC1C,gBAAgB;QAChB,eAAe;IACjB;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAO,WAAU;;kCAChB,6LAAC;wBAAG,WAAU;kCAAyB;;;;;;kCACvC,6LAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;;0BAMvC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;kDAA6B;;;;;;kDAC5C,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAM,WAAU;0DAAwB;;;;;;0DACzC,6LAAC;gDACC,WAAU;gDACV,OAAO;gDACP,UAAU,CAAC;oDACT,MAAM,MAAM,EAAE,MAAM,CAAC,KAAK;oDAC1B,MAAM,aAAa,aAAa,CAAC,IAAI,EAAE,CAAC,EAAE,IAAI;oDAC9C,gBAAgB;oDAChB,eAAe;gDACjB;0DAEC,aAAa,GAAG,CAAC,CAAC,kBACjB,6LAAC;wDAAe,OAAO;kEACpB;uDADU;;;;;;;;;;0DAMjB,6LAAC;gDAAM,WAAU;0DAAwB;;;;;;0DACzC,6LAAC;gDACC,WAAU;gDACV,OAAO;gDACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;0DAE7C,gBAAgB,GAAG,CAAC,CAAC,kBACpB,6LAAC;wDAAe,OAAO;kEACpB;uDADU;;;;;;;;;;0DAMjB,6LAAC;gDAAM,WAAU;0DAAwB;;;;;;0DACzC,6LAAC;gDACC,WAAU;gDACV,OAAO;gDACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;0DAE5C,eAAe,GAAG,CAAC,CAAC,kBACnB,6LAAC;wDAAe,OAAO;kEACpB;uDADU;;;;;;;;;;;;;;;;;;;;;;0CAQrB,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;kDAA6B;;;;;;kDAC5C,6LAAC,kIAAK;wCAAC,YAAY;wCAAa,YAAY;;;;;;kDAC5C,6LAAC;wCAAI,WAAU;kDAA6B;;;;;;;;;;;;0CAK9C,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;;0DACC,6LAAC;gDAAI,WAAU;0DAAwB;;;;;;0DACvC,6LAAC;gDAAI,WAAU;0DAAyB,UAAU,KAAK,KAAK;;;;;;;;;;;;kDAE9D,6LAAC;;0DACC,6LAAC;gDAAI,WAAU;0DAAwB;;;;;;0DACvC,6LAAC;gDAAI,WAAU;0DAAyB,UAAU,KAAK,KAAK;;;;;;;;;;;;kDAE9D,6LAAC;;0DACC,6LAAC;gDAAI,WAAU;0DAAwB;;;;;;0DACvC,6LAAC;gDAAI,WAAU;0DAAyB,KAAK,KAAK,IAAI,QAAQ,MAAM;;;;;;;;;;;;;;;;;;;;;;;;kCAK1E,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAI,WAAU;0DAAwB;;;;;;0DACvC,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;kEAAM;;;;;;kEACP,6LAAC;wDACC,WAAU;wDACV,OAAO;wDACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;;0EAE3C,6LAAC;gEAAO,OAAM;0EAAS;;;;;;0EACvB,6LAAC;gEAAO,OAAM;0EAAQ;;;;;;0EACtB,6LAAC;gEAAO,OAAM;0EAAS;;;;;;;;;;;;;;;;;;;;;;;;oCAK5B,sBACC,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDACC,OAAO,MAAM,KAAK;gDAClB,QAAQ,MAAM,MAAM;gDACpB,WAAU;gDACV,cAAc,IAAM,cAAc;gDAClC,aAAa,CAAC;oDACZ,MAAM,OAAO,AAAC,EAAE,aAAa,CAAmB,qBAAqB;oDACrE,MAAM,IAAI,EAAE,OAAO,GAAG,KAAK,IAAI;oDAC/B,MAAM,MAAM,KAAK,KAAK,CACpB,AAAC,CAAC,IAAI,MAAM,GAAG,IAAI,KAAK,GAAG,CAAC,GAAG,KAAK,KAAK,GAAG,MAAM,GAAG,GAAG,KAAM,CAAC,cAAc,MAAM,GAAG,CAAC;oDAEzF,cAAc,OAAO,KAAK,MAAM,cAAc,MAAM,GAAG,MAAM;gDAC/D;;kEAEA,6LAAC;wDAAK,GAAG;wDAAG,GAAG;wDAAG,OAAO,MAAM,KAAK;wDAAE,QAAQ,MAAM,MAAM;wDAAE,MAAK;;;;;;oDAEhE,cAAc,MAAM,GAAG,KACtB,cAAc,GAAG,CAAC,CAAC,GAAG;wDACpB,IAAI,MAAM,cAAc,MAAM,GAAG,GAAG,OAAO;wDAC3C,MAAM,KAAK,MAAM,MAAM,CAAC,GAAG,cAAc,MAAM;wDAC/C,MAAM,KAAK,MAAM,MAAM,CAAC,IAAI,GAAG,cAAc,MAAM;wDACnD,qBACE,6LAAC;4DAEC,GAAG;4DACH,GAAG,MAAM,GAAG;4DACZ,OAAO,KAAK;4DACZ,QAAQ,MAAM,MAAM,GAAG,MAAM,GAAG,GAAG;4DACnC,MAAM,OAAO,CAAC,EAAE,MAAM,CAAC,IAAI;4DAC3B,SAAS;2DANJ,GAAG,EAAE,IAAI,CAAC,CAAC,EAAE,GAAG;;;;;oDAS3B;kEAEF,6LAAC;wDACC,MAAK;wDACL,QAAO;wDACP,aAAa;wDACb,QAAQ,cACL,GAAG,CAAC,CAAC,GAAG,IAAO,EAAE,KAAK,IAAI,OAAO,OAAO,GAAG,MAAM,MAAM,CAAC,GAAG,cAAc,MAAM,EAAE,CAAC,EAAE,MAAM,MAAM,CAAC,EAAE,KAAK,GAAG,EAC3G,MAAM,CAAC,SACP,IAAI,CAAC;;;;;;oDAGT;wDAAC;wDAAG;wDAAM;wDAAK;wDAAM;qDAAE,CAAC,GAAG,CAAC,CAAC;wDAC5B,MAAM,IAAI,MAAM,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,MAAM,GAAG,MAAM,GAAG,GAAG,CAAC;wDAC7D,MAAM,QAAQ,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,IAAI,GAAG,MAAM,IAAI;wDACvD,qBACE,6LAAC;;8EACC,6LAAC;oEAAK,IAAI,MAAM,GAAG;oEAAE,IAAI;oEAAG,IAAI,MAAM,KAAK,GAAG,MAAM,GAAG;oEAAE,IAAI;oEAAG,QAAO;oEAAU,iBAAgB;;;;;;8EACjG,6LAAC;oEAAK,GAAG,MAAM,GAAG,GAAG;oEAAG,GAAG,IAAI;oEAAG,MAAK;oEAAU,UAAS;oEAAK,YAAW;8EACvE,MAAM,OAAO,CAAC;;;;;;;2DAHX,CAAC,EAAE,EAAE,GAAG;;;;;oDAOpB;oDAEC;wDAAC;wDAAG;wDAAM;wDAAK;wDAAM;qDAAE,CAAC,GAAG,CAAC,CAAC;wDAC5B,MAAM,MAAM,KAAK,KAAK,CAAC,IAAI,CAAC,cAAc,MAAM,GAAG,CAAC;wDACpD,MAAM,IAAI,MAAM,MAAM,CAAC,KAAK,cAAc,MAAM;wDAChD,qBACE,6LAAC;4DAAoB,GAAG;4DAAG,GAAG,MAAM,MAAM,GAAG,MAAM,GAAG,GAAG;4DAAI,MAAK;4DAAU,UAAS;4DAAK,YAAW;sEAClG,gBAAgB,aAAa,CAAC,IAAI,EAAE,QAAQ,IAAI;2DADxC,CAAC,EAAE,EAAE,GAAG;;;;;oDAIvB;;;;;;;4CAGD,cAAc,QAAQ,aAAa,CAAC,WAAW,kBAC9C,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAI,WAAU;kEAAiB,gBAAgB,aAAa,CAAC,WAAW,CAAC,IAAI,EAAE;;;;;;kEAChF,6LAAC;;4DAAI;4DAAW,aAAa,CAAC,WAAW,CAAC,KAAK,EAAE,QAAQ,MAAM;;;;;;;oDAC9D,SAAS,6BACR,6LAAC;;4DAAI;4DACM,cAAc,SAAS,aAAa;4DAAQ;4DAAU,SAAS,aAAa,YAAY,QAAQ,MAAM;;;;;;;;;;;;;;;;;;6DAOzH,6LAAC;wCAAI,WAAU;kDAAwB;;;;;;;;;;;;0CAI3C,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAI,WAAU;0DAA6B;;;;;;0DAC5C,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAI,WAAU;kEAAgB;;;;;;kEAC/B,6LAAC;kEAAK;;;;;;kEACN,6LAAC;wDAAI,WAAU;kEAAgB;;;;;;kEAC/B,6LAAC;kEAAK;;;;;;kEACN,6LAAC;wDAAI,WAAU;kEAAgB;;;;;;kEAC/B,6LAAC;kEAAK,cAAc,WAAW;;;;;;kEAC/B,6LAAC;wDAAI,WAAU;kEAAgB;;;;;;kEAC/B,6LAAC;kEAAK,WAAW,YAAY,QAAQ,MAAM;;;;;;;;;;;;;;;;;;kDAI/C,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAI,WAAU;kEAAwB;;;;;;kEACvC,6LAAC;wDACC,WAAU;wDACV,OAAO;wDACP,UAAU,CAAC,IAAM,eAAe,OAAO,EAAE,MAAM,CAAC,KAAK;;0EAErD,6LAAC;gEAAO,OAAO;0EAAG;;;;;;0EAClB,6LAAC;gEAAO,OAAO;0EAAG;;;;;;0EAClB,6LAAC;gEAAO,OAAO;0EAAI;;;;;;;;;;;;;;;;;;0DAGvB,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;;4DAAI;4DAAe;4DAAY;4DAAQ,eAAe,KAAK,QAAQ,MAAM;;;;;;;kEAC1E,6LAAC;;4DAAI;4DAAwB,eAAe,YAAY,QAAQ,MAAM;;;;;;;kEACtE,6LAAC;wDAAI,WAAU;kEAAgB;;;;;;;;;;;;0DAEjC,6LAAC;gDAAI,WAAU;0DACZ,WACG,GAAG,OAAO,IAAI,CAAC,UAAU,MAAM,CAAC,0CAA0C,CAAC,GAC3E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQpB;GAxYwB;MAAA"}}]
}