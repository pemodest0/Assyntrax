{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Pedro%20Henrique/Desktop/A-firma/website-ui/lib/server/results.ts"],"sourcesContent":["import { promises as fs } from \"fs\";\r\nimport path from \"path\";\r\n\r\nfunction repoRoot() {\r\n  return path.resolve(process.cwd(), \"..\");\r\n}\r\n\r\nexport function resultsRoot() {\r\n  const root = repoRoot();\r\n  return process.env.RESULTS_DIR || path.join(root, \"results\");\r\n}\r\n\r\nexport function indexPath() {\r\n  return path.join(resultsRoot(), \"results_index.json\");\r\n}\r\n\r\nexport async function readIndex() {\r\n  const p = indexPath();\r\n  const text = await fs.readFile(p, \"utf-8\");\r\n  return JSON.parse(text);\r\n}\r\n\r\nexport function resolveResultsPath(rel: string) {\r\n  const root = resultsRoot();\r\n  const target = path.resolve(root, rel);\r\n  const rootNorm = path.resolve(root);\r\n  if (!target.startsWith(rootNorm + path.sep) && target !== rootNorm) {\r\n    throw new Error(\"path_outside_results\");\r\n  }\r\n  return target;\r\n}\r\n\r\nexport function contentTypeFor(filePath: string) {\r\n  const ext = path.extname(filePath).toLowerCase();\r\n  if (ext === \".png\") return \"image/png\";\r\n  if (ext === \".jpg\" || ext === \".jpeg\") return \"image/jpeg\";\r\n  if (ext === \".svg\") return \"image/svg+xml\";\r\n  if (ext === \".pdf\") return \"application/pdf\";\r\n  if (ext === \".json\") return \"application/json\";\r\n  if (ext === \".csv\") return \"text/csv\";\r\n  if (ext === \".md\") return \"text/markdown\";\r\n  return \"application/octet-stream\";\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AACA;;;AAEA,SAAS;IACP,OAAO,4GAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,IAAI;AACrC;AAEO,SAAS;IACd,MAAM,OAAO;IACb,OAAO,QAAQ,GAAG,CAAC,WAAW,IAAI,4GAAI,CAAC,IAAI,CAAC,MAAM;AACpD;AAEO,SAAS;IACd,OAAO,4GAAI,CAAC,IAAI,CAAC,eAAe;AAClC;AAEO,eAAe;IACpB,MAAM,IAAI;IACV,MAAM,OAAO,MAAM,yGAAE,CAAC,QAAQ,CAAC,GAAG;IAClC,OAAO,KAAK,KAAK,CAAC;AACpB;AAEO,SAAS,mBAAmB,GAAW;IAC5C,MAAM,OAAO;IACb,MAAM,SAAS,4GAAI,CAAC,OAAO,CAAC,MAAM;IAClC,MAAM,WAAW,4GAAI,CAAC,OAAO,CAAC;IAC9B,IAAI,CAAC,OAAO,UAAU,CAAC,WAAW,4GAAI,CAAC,GAAG,KAAK,WAAW,UAAU;QAClE,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;AAEO,SAAS,eAAe,QAAgB;IAC7C,MAAM,MAAM,4GAAI,CAAC,OAAO,CAAC,UAAU,WAAW;IAC9C,IAAI,QAAQ,QAAQ,OAAO;IAC3B,IAAI,QAAQ,UAAU,QAAQ,SAAS,OAAO;IAC9C,IAAI,QAAQ,QAAQ,OAAO;IAC3B,IAAI,QAAQ,QAAQ,OAAO;IAC3B,IAAI,QAAQ,SAAS,OAAO;IAC5B,IAAI,QAAQ,QAAQ,OAAO;IAC3B,IAAI,QAAQ,OAAO,OAAO;IAC1B,OAAO;AACT"}},
    {"offset": {"line": 113, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Pedro%20Henrique/Desktop/A-firma/website-ui/app/api/files/%5B...path%5D/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport { promises as fs } from \"fs\";\r\nimport { contentTypeFor, resolveResultsPath } from \"@/lib/server/results\";\r\n\r\nexport async function GET(\r\n  _request: Request,\r\n  { params }: { params: Promise<{ path: string[] }> }\r\n) {\r\n  try {\r\n    const { path } = await params;\r\n    const rel = path.join(\"/\");\r\n    const target = resolveResultsPath(rel);\r\n    const data = await fs.readFile(target);\r\n    return new NextResponse(data, {\r\n      status: 200,\r\n      headers: { \"content-type\": contentTypeFor(target) },\r\n    });\r\n  } catch {\r\n    return NextResponse.json({ error: \"file_not_found\" }, { status: 404 });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,eAAe,IACpB,QAAiB,EACjB,EAAE,MAAM,EAA2C;IAEnD,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM;QACvB,MAAM,MAAM,KAAK,IAAI,CAAC;QACtB,MAAM,SAAS,IAAA,gJAAkB,EAAC;QAClC,MAAM,OAAO,MAAM,yGAAE,CAAC,QAAQ,CAAC;QAC/B,OAAO,IAAI,gJAAY,CAAC,MAAM;YAC5B,QAAQ;YACR,SAAS;gBAAE,gBAAgB,IAAA,4IAAc,EAAC;YAAQ;QACpD;IACF,EAAE,OAAM;QACN,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAiB,GAAG;YAAE,QAAQ;QAAI;IACtE;AACF"}}]
}