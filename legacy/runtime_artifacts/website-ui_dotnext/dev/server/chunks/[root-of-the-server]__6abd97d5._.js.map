{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Pedro%20Henrique/Desktop/A-firma/website-ui/app/api/realestate/series/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport { promises as fs } from \"fs\";\r\nimport path from \"path\";\r\n\r\nfunction repoRoot() {\r\n  return path.resolve(process.cwd(), \"..\");\r\n}\r\n\r\nexport async function GET(request: Request) {\r\n  const { searchParams } = new URL(request.url);\r\n  const asset = searchParams.get(\"asset\");\r\n  if (!asset) {\r\n    return NextResponse.json({ error: \"missing_asset\" }, { status: 400 });\r\n  }\r\n  const target = path.join(repoRoot(), \"data\", \"realestate\", \"normalized\", `${asset}.csv`);\r\n  try {\r\n    const text = await fs.readFile(target, \"utf-8\");\r\n    const lines = text.trim().split(\"\\n\");\r\n    const rows = lines.slice(1).map((line) => {\r\n      const [date, value] = line.split(\",\");\r\n      return { date, value: value ? Number(value) : null };\r\n    });\r\n    return NextResponse.json(rows);\r\n  } catch {\r\n    return NextResponse.json({ error: \"series_not_found\" }, { status: 404 });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEA,SAAS;IACP,OAAO,4GAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,IAAI;AACrC;AAEO,eAAe,IAAI,OAAgB;IACxC,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;IAC5C,MAAM,QAAQ,aAAa,GAAG,CAAC;IAC/B,IAAI,CAAC,OAAO;QACV,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAgB,GAAG;YAAE,QAAQ;QAAI;IACrE;IACA,MAAM,SAAS,4GAAI,CAAC,IAAI,CAAC,YAAY,QAAQ,cAAc,cAAc,GAAG,MAAM,IAAI,CAAC;IACvF,IAAI;QACF,MAAM,OAAO,MAAM,yGAAE,CAAC,QAAQ,CAAC,QAAQ;QACvC,MAAM,QAAQ,KAAK,IAAI,GAAG,KAAK,CAAC;QAChC,MAAM,OAAO,MAAM,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC;YAC/B,MAAM,CAAC,MAAM,MAAM,GAAG,KAAK,KAAK,CAAC;YACjC,OAAO;gBAAE;gBAAM,OAAO,QAAQ,OAAO,SAAS;YAAK;QACrD;QACA,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAM;QACN,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAmB,GAAG;YAAE,QAAQ;QAAI;IACxE;AACF"}}]
}